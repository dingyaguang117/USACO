USACO 3.4.1 Closed Fences (fence4)

一直没写过解题报告,不过这道题我整整花了一天时间,终于过了,内牛满面!

关于这道解析几何的题目:

1.对于第一个限制条件:是否是合法栅栏,题目没有卡数据,不判断也能过

2.对于第二个条件，能否看到，思路是：

(1),对每个栅栏进行远近排序
    怎么排序是最困的，远近可认为是，如果E1 遮盖E2，则 E1比E2 离观察者近，
一开始判断中点的距离，发现不对。正确的做法：用射线和线段是否相交，判断是否有覆盖
关系，然后分两种情况
(2),按照每个栅栏的远近顺序，进行覆盖角度的区间合并
    过程:对于第一个栅栏,肯定不能覆盖,加入可视集合,记录它遮盖的角度区域(可以用atan2得到，[-π,π]).然后对于每个后面的栅栏,如果没有被前面的区间完全覆盖,则可视,加入可视集合,更新覆盖区域

